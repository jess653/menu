<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>JUEGOS SEGUN RJTT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <style>
    body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}

    /* --- Imágenes de collage --- */
    .image-top-right { position: absolute; top: 10px; right: 10px; width: 230px; z-index: 5; opacity: 0.9; }
    .images-stack-right { position: absolute; top: 260px; right: 10px; display:flex; flex-direction:column; gap:15px; z-index:5; }
    .image-below-collage { width:200px; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.3); }
    .w3-content { position: relative; }

    /* --- Barra lateral --- */
    .sidebar {
      position: fixed; top:0; left:0; height:100%; width:120px; background:#222;
      display:flex; flex-direction:column; align-items:center; padding-top:20px; z-index:20;
    }
    .sidebar img { width:80%; margin-bottom:20px; border-radius:50%; }
    .sidebar a { display:block; width:90%; margin:8px 0; padding:12px 8px;
      background:#444; color:#fff; text-decoration:none; border-radius:6px;
      text-align:center; font-size:14px; font-weight:bold; transition:.3s;
    }
    .sidebar a i { font-size:20px; display:block; margin-bottom:4px; }
    .sidebar a:hover { background:#000; transform:scale(1.05); }
    .content-with-sidebar { margin-left:120px; }
    @media only screen and (max-width:600px) { .sidebar{display:none;} .content-with-sidebar{margin-left:0;} }

    /* --- Fondo --- */
    body { background-image: url('Lineas Colores.jpg'); background-repeat:no-repeat; background-size:cover; background-position:center; }

    /* --- Cajas traslúcidas --- */
    .white-box { background: rgba(255,255,255,0.85); color:black; padding:20px; margin:20px auto; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.3); max-width:900px; }

    /* --- Botón de música compacto y simple --- */
    .music-btn {
      position: fixed; bottom: 15px; right: 15px;
      background:#000; color:#fff;
      border:none; border-radius:50%;
      width:32px; height:32px; font-size:14px; cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      z-index:30;
    }
    .music-btn:hover { background:#333; }

    /* --- Debug para audio --- */
    #audio-debug {
      position: fixed; left: 20px; bottom: 20px;
      background: rgba(0,0,0,0.7); color: #fff; padding:8px 12px;
      border-radius:6px; font-size:13px; z-index:40; display:none;
      max-width: 320px; word-break:break-word;
    }
  </style>
</head>
<body>

  <!-- AUDIO: autoplay, loop, inicialmente muted -->
  <audio id="bg-music" autoplay loop muted preload="auto">
    <source src="OneRepublic%20-%20Secrets.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
  </audio>

  <!-- Sonidos de la barra lateral -->
  <audio id="sound-home" src="Gta v notification.mp3" preload="auto"></audio>
  <audio id="sound-juegos" src="Coin.mp3" preload="auto"></audio>
  <audio id="sound-contacto" src="Noti_Xbox.mp3" preload="auto"></audio>

  <!-- Botón de control de música compacto -->
  <button class="music-btn" id="music-toggle" aria-label="Control música" title="Play / Pausa">
    <i class="fa fa-music"></i>
  </button>

  <!-- Barra lateral -->
  <nav class="sidebar">
    <img src="RJTT.png" alt="Logo">
    <a href="./Blog%20de%20RJTT.index.html" id="btn-home"><i class="fa fa-home"></i> HOME</a>
    <a href="./Juegos.css.html" id="btn-juegos"><i class="fa fa-gamepad"></i> JUEGOS</a>
    <a href="./CONTACTO.css.html" id="btn-contacto"><i class="fa fa-envelope"></i> CONTACTO</a>
  </nav>

  <!-- Contenido -->
  <div class="w3-content content-with-sidebar" style="max-width:1400px">
    <img src="collage de Juegos.png" alt="Collage" class="image-top-right">
    <div class="images-stack-right">
      <img src="Control de Xbox.png" alt="Juego 1" class="image-below-collage">
      <img src="collage de Juegos2.png" alt="Juego 2" class="image-below-collage">
    </div>

    <header class="white-box w3-center">
      <h1><b>JUEGOS SEGUN RJTT</b></h1>
      <p>Bienvenido al blog de <span class="w3-tag">RJTT</span></p>
    </header>

    <div class="white-box w3-center" id="Juegos">
      <h2 class="w3-wide">Análisis-Recomendaciones y mucho mas o quizás no tanto</h2>
      <p class="w3-opacity"><i>Los VideoJuegos</i></p>
      <p class="w3-justify">Los videojuegos modernos se caracterizan por la interacción dinámica entre el jugador y el sistema a través de reglas que generan resultados variables y cuantificables. Estos resultados, a su vez, involucran al jugador emocionalmente, ya sea por el desafío, la progresión o la narrativa que ofrece el juego. La tecnología permite una amplia variedad de dispositivos de entrada, desde teclados y controles hasta pantallas táctiles y sensores de movimiento, haciendo la experiencia más inmersiva...</p>
    </div>

    <div class="white-box w3-center" id="contacto">
      <h2 class="w3-wide">AUTOR</h2>
      <p class="w3-opacity"><i>RJTT</i></p>
      <p class="w3-center">RAFAEL JESUS TRESS TRUJILLO</p>
    </div>
  </div>

  <!-- Debug de audio -->
  <div id="audio-debug" role="status" aria-live="polite"></div>

  <script>
    const audio = document.getElementById('bg-music');
    const btn = document.getElementById('music-toggle');
    const dbg = document.getElementById('audio-debug');

    // Sonidos de los botones
    const soundHome = document.getElementById('sound-home');
    const soundJuegos = document.getElementById('sound-juegos');
    const soundContacto = document.getElementById('sound-contacto');

    // Botones de la barra lateral
    const btnHome = document.getElementById('btn-home');
    const btnJuegos = document.getElementById('btn-juegos');
    const btnContacto = document.getElementById('btn-contacto');

    // Reproducir sonido y luego navegar
    function playSoundAndGo(sound, url) {
      sound.currentTime = 0;
      sound.play();
      setTimeout(() => {
        window.location.href = url;
      }, 400); // retraso para escuchar el sonido
    }

    btnHome.addEventListener('click', function(e) {
      e.preventDefault();
      playSoundAndGo(soundHome, this.href);
    });

    btnJuegos.addEventListener('click', function(e) {
      e.preventDefault();
      playSoundAndGo(soundJuegos, this.href);
    });

    btnContacto.addEventListener('click', function(e) {
      e.preventDefault();
      playSoundAndGo(soundContacto, this.href);
    });

    // Mostrar mensajes de debug
    function showDebug(msg, show=true) {
      dbg.textContent = msg;
      dbg.style.display = show ? 'block' : 'none';
      console.log('Audio debug:', msg);
    }

    // Activar audio al primer click/tap (desmutear y reproducir)
    async function handleFirstInteraction() {
      try {
        audio.muted = false;
        await audio.play();
        showDebug('Audio: reproduciendo.');
      } catch (err) {
        showDebug('Error al reproducir automáticamente: ' + (err && err.message ? err.message : err));
      }
    }

    document.addEventListener('click', function firstClick() {
      handleFirstInteraction();
    }, { once: true, passive: true });

    // Botón play/pause (solo funciona, ícono fijo)
    btn.addEventListener('click', async function(event) {
      event.preventDefault();
      if (audio.muted) audio.muted = false;
      if (audio.paused) {
        try {
          await audio.play();
          showDebug('Audio: reproduciendo (desde botón).');
        } catch (err) {
          showDebug('Error al reproducir (botón): ' + (err && err.message ? err.message : err));
        }
      } else {
        audio.pause();
        showDebug('Audio pausado.');
      }
    });

    // Detectar errores del audio
    audio.addEventListener('error', function() {
      const err = audio.error;
      let msg = 'Error de audio';
      if (err) msg += ' (code ' + err.code + ')';
      msg += '. Revisa que el archivo exista y que la ruta sea correcta.';
      showDebug(msg);
    });
  </script>
</body>
</html>
